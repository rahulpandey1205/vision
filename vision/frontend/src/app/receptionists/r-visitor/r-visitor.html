<div class="header">
  <div class="greeting">
    <h1>Visitor Management</h1>
    <p>{{currentDate}}</p>
  </div>
  <div class="admin-profile">
    <span class="notification-bell">
      <fa-icon [icon]="faBell"></fa-icon>
      <span class="bell-dot"></span>
    </span>
    <span class="admin-avatar">R</span>
    <span class="admin-name">Ram</span>
  </div>
</div>

<div class="card">
  <div class="card-header">
    <h2 class="card-title">All Visitors</h2>
    <div>
      <button class="btn btn-outline">
        <fa-icon [icon]="faFilter"></fa-icon> Filter
      </button>
      <button class="btn btn-primary" (click)="addNewVisitor()">
        <fa-icon [icon]="faPlus"></fa-icon> Add Visitor
      </button>
    </div>
  </div>
  <div class="table-container">
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Contact</th>
          <th>Check-in</th>
          <th>Check-out</th>
          <th>Host</th>
          <th>Purpose</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        @for (visitor of visitors; track visitor.id) {
          <tr>
            <td>{{visitor.name}}</td>
            <td>
              <div>{{visitor.phone}}</div>
              <small>{{visitor.email}}</small>
            </td>
            <td>{{visitor.checkin}}</td>
            <td>{{visitor.checkout || '-'}}</td>
            <td>{{visitor.host}}</td>
            <td>{{visitor.purpose}}</td>
            <td>
              <span class="status {{visitor.status === 'inside' ? 'inside' : 'checked-out'}}">
                {{visitor.status === 'inside' ? 'Inside' : 'Checked Out'}}
              </span>
            </td>
            <td>
              @if (visitor.status === 'inside') {
                <button class="btn btn-outline btn-sm checkout-btn" (click)="checkOutVisitor(visitor.id)">
                  <fa-icon [icon]="faDoorOpen"></fa-icon> Check Out
                </button>
              }
              <button class="btn btn-outline btn-sm view-btn" (click)="viewVisitorDetails(visitor)">
                <fa-icon [icon]="faEye"></fa-icon> View
              </button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>
</div>